webpackJsonp([16],{"5zCw":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("xSzg"),o=i("Au9i"),n=i("gwNS"),a={data:function(){return{phone:"",password:"",community:"",imgCode:"",comId:"",identifyCodes:"1234567890",identifyCode:"",z_tel:/^1(3|4|5|6|7|8|9)\d{9}$/,z_psd:/^[0-9a-zA-Z]*$/g,popupVisible:!1,communityList:[]}},components:{SIdentify:s.a},mounted:function(){this.login()},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(t,e){for(var i=0;i<e;i++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]},register:function(){var t=this;if(!this.phone)return Object(o.Toast)("请填写电话号码!"),!1;if(!1===this.z_tel.test(this.phone))return Object(o.Toast)("您的电话号码格式有误!"),!1;if(!this.password)return Object(o.Toast)("请填写密码!"),!1;if(this.password.length<6||this.password.length>20)return Object(o.Toast)("请您输入6-20位密码"),!1;if(this.imgCode!=this.identifyCode)return Object(o.Toast)("您输入的验证码有误"),this.imgCode="",!1;var e=this.$qs.stringify({uTel:this.phone,uPassword:this.password});n.a.register(e).then(function(e){console.log(e),Object(o.Toast)(e.data.msg),200!==e.data.status?(t.phone="",t.password="",t.imgCode="",t.comId="",t.community=""):t.$router.replace("/login")})},login:function(){this.$router.replace("/login")},goHome:function(){this.$router.replace("/")},selectCommunity:function(){var t=this;n.a.getAllCommunity().then(function(e){console.log(e),t.communityList=e.data.data}),this.popupVisible=!0},select:function(t){console.log(t),this.community=t.comName,this.comId=t.iid,this.popupVisible=!1}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"login"},[i("div",{staticClass:"logo"}),t._v(" "),i("div",{staticClass:"login-content"},[i("div",{staticClass:"input-box"},[i("ul",[i("li",{staticClass:"flex-align-center"},[i("i",{staticClass:"icon icon-phone"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",placeholder:"手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),i("li",{staticClass:"flex-align-center"},[i("i",{staticClass:"icon icon-lock"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),i("li",{staticClass:"flex-between"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.imgCode,expression:"imgCode"}],staticClass:"codeImg",attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.imgCode},on:{input:function(e){e.target.composing||(t.imgCode=e.target.value)}}}),t._v(" "),i("div",{on:{click:t.refreshCode}},[i("s-identify",{attrs:{identifyCode:t.identifyCode}})],1)])])]),t._v(" "),i("div",{staticClass:"login-btn"},[i("p",{staticClass:"button",on:{click:t.register}},[t._v("注册")])])]),t._v(" "),i("div",{staticClass:"login-bottom"},[i("div",{staticClass:"other-ways"},[i("div",{staticClass:"register"},[i("span",{on:{click:t.login}},[t._v("立即登陆")])]),t._v(" "),i("div",{staticClass:"gohome"},[i("span",{on:{click:t.goHome}},[t._v("去首页")])])])])])])},staticRenderFns:[]};var d=i("VU/8")(a,r,!1,function(t){i("9HEz")},"data-v-ee0d991a",null);e.default=d.exports},"9HEz":function(t,e){}});