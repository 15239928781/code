webpackJsonp([24],{EV1k:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("bOdI"),i=s.n(n),o=s("gwNS"),a=s("Au9i"),r=i()({data:function(){return{phone:"",password:"",z_tel:/^1(3|4|5|6|7|8|9)\d{9}$/,z_psd:/^[0-9a-zA-Z]*$/g,isPhone:!0}},created:function(){localStorage.clear(),sessionStorage.clear()},methods:{login:function(){var t=this;if(!this.phone)return Object(a.Toast)("请填写电话号码!"),!1;if(!1===this.z_tel.test(this.phone))return Object(a.Toast)("您的电话号码格式有误!"),!1;if(!this.password)return Object(a.Toast)("请填写密码!"),!1;if(this.password.length<6||this.password.length>20)return Object(a.Toast)("请您输入6-20位密码"),!1;var e=this.$qs.stringify({account:this.phone,loginpwd:this.password});o.a.login(e).then(function(e){console.log(e),200!==e.data.status?(Object(a.Toast)(e.data.msg+"fyp"),t.phone="",t.password=""):(window.location.replace("/index"),localStorage.setItem("uId",e.data.data.uId),localStorage.setItem("token",e.data.data.token))})},loginwx:function(){window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx7500e60816b113c8&redirect_uri=http%3A%2F%2Fwww.bybart.cn%2Fssm%2Ffront%2FweixinLogin&response_type=code&scope=snsapi_userinfo&state=STATE&connect_redirect=1#wechat_redirect"},register:function(){window.location.replace("/ssm/index.html#/register")},goHome:function(){window.location.replace("/ssm/index.html#/index")}}},"created",function(){var t=navigator.userAgent.toLowerCase();-1!==t.indexOf("mobile")?this.isPhone=!0:-1!==t.indexOf("windows")&&(this.isPhone=!0)}),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"login"},[s("div",{staticClass:"logo"}),t._v(" "),s("div",{staticClass:"login-bottom"},[t.isPhone?s("div",{staticClass:"other-ways"},[s("p",[t._v("微信登录")]),t._v(" "),s("ul",{staticClass:"flex-align-center flex-around"},[s("li",[s("router-link",{attrs:{to:"/"}},[s("i",{staticClass:"icon icon-wChat",on:{click:t.loginwx}})])],1)])]):t._e(),t._v(" "),t.isPhone?t._e():s("div",{staticClass:"other-ways"},[s("p",[t._v("微信登录")]),t._v(" "),s("ul",{staticClass:"flex-align-center flex-around"})])])])])},staticRenderFns:[]};var l=s("VU/8")(r,c,!1,function(t){s("smSY")},"data-v-87cba134",null);e.default=l.exports},smSY:function(t,e){}});